<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Albergues Registrados | Paw Friends</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Arial', sans-serif; }
    body { background:#f4f1ee; color:#333; }
    header { background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.1); padding:1rem 2rem; position:sticky; top:0; z-index:100; }
    nav { display:flex; justify-content:space-between; align-items:center; }
    .logo { display:flex; align-items:center; gap:10px; font-size:1.5rem; font-weight:bold; color:#7d8f69; }
    .logo i { font-size:2rem; }
    .nav-links { display:flex; list-style:none; gap:1.5rem; }
    .nav-links a { text-decoration:none; color:#333; font-weight:500; transition:0.3s; }
    .nav-links a:hover, .nav-links .active { color:#7d8f69; }
    
    .albergues-container { max-width:1200px; margin:50px auto; padding:20px; }
    .albergues-container h1 { text-align:center; color:#7d8f69; margin-bottom:30px; }
    .albergues-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:25px; }
    
    .albergue-card { background:#fff; border-radius:15px; box-shadow:0 6px 20px rgba(0,0,0,0.1); padding:20px; display:flex; flex-direction:column; align-items:center; transition:transform 0.3s; cursor:pointer; }
    .albergue-card:hover { transform:translateY(-5px); }
    
    .albergue-logo-container { width:120px; height:120px; border-radius:50%; border:3px solid #7d8f69; display:flex; justify-content:center; align-items:center; overflow:hidden; background:#e6e6e6; }
    .albergue-logo-container img { width:100%; height:100%; object-fit:cover; }
    
    .albergue-card h3 { margin:15px 0 5px; color:#333; }
    .albergue-card p { color:#555; font-size:0.9rem; text-align:center; }

    /* Modal estilos */
    .modal {
        display:none;
        position:fixed;
        z-index:200;
        left:0; top:0;
        width:100%; height:100%;
        background:rgba(0,0,0,0.6);
        justify-content:center;
        align-items:center;
    }
    .modal-content {
        background:#fff;
        padding:20px 30px;
        border-radius:12px;
        text-align:center;
        max-width:400px;
        box-shadow:0 4px 15px rgba(0,0,0,0.3);
        animation:fadeIn 0.3s ease-in-out;
    }
    .modal-content h2 {
        margin-bottom:15px;
        color:#7d8f69;
    }
    .close-btn {
        margin-top:20px;
        padding:10px 20px;
        border:none;
        background:#7d8f69;
        color:#fff;
        border-radius:8px;
        cursor:pointer;
        transition:0.3s;
    }
    .close-btn:hover {
        background:#6a7c58;
    }
    @keyframes fadeIn {
        from { opacity:0; transform:scale(0.9); }
        to { opacity:1; transform:scale(1); }
    }
</style>
</head>
<body>

<header>
<nav>
    <div class="logo"><i class="fas fa-paw"></i>Paw Friends</div>
    <ul class="nav-links">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="albergues.html" class="active">Albergues</a></li>
        <li><a href="login.html">Iniciar sesión</a></li>
    </ul>
</nav>
</header>

<main class="albergues-container">
    <h1>Albergues Registrados</h1>
    <div id="alberguesContainer" class="albergues-grid"></div>
</main>

<!-- Modal para mostrar mensaje -->
<div id="infoModal" class="modal">
    <div class="modal-content">
        <h2>Próximamente</h2>
        <p id="modalText">Pronto añadiremos más información de este albergue.</p>
        <button class="close-btn" onclick="cerrarModal()">Cerrar</button>
    </div>
</div>

<footer style="text-align:center; padding:20px; background:#fff; margin-top:50px; box-shadow:0 -2px 8px rgba(0,0,0,0.05);">
    <p>&copy; 2023 Paw Friends. Todos los derechos reservados.</p>
</footer>

<script>
function cargarAlberguesRegistrados(){
    const container = document.getElementById('alberguesContainer');
    let albergues = JSON.parse(localStorage.getItem('alberguesAprobados')) || [];

    // Agregar albergue por defecto (Mascotas Felices)
    // Agregar albergue por defecto (Mascotas Felices)
    const idx = albergues.findIndex(a => a.email === 'MascotasFelices1@gmail.com');
    if (idx === -1) {
        albergues.push({
            name: 'Mascotas Felices',
            address: 'Calle Ficticia #123',
            email: 'MascotasFelices1@gmail.com',
            photo: 'Images/Logo_Albergue.png'
        });
    } else {
        // Forzar actualización de la ruta de la imagen si ya existe en localStorage
        albergues[idx].photo = 'Images/Logo_Albergue.png';
    }
    localStorage.setItem('alberguesAprobados', JSON.stringify(albergues));


    container.innerHTML='';
    if(albergues.length === 0){
        container.innerHTML = '<p style="text-align:center; width:100%;">No hay albergues registrados aún.</p>';
        return;
    }

    albergues.forEach(a=>{
        const card = document.createElement('div'); 
        card.className = 'albergue-card';
        card.innerHTML = `
            <div class="albergue-logo-container">
                <img src="${a.photo||'https://via.placeholder.com/120'}" alt="Logo del Albergue">
            </div>
            <h3>${a.name}</h3>
            <p>${a.address}</p>
        `;

        // Acción al dar clic
        card.addEventListener('click', ()=>{
            if(a.email==='MascotasFelices1@gmail.com'){
                window.location='mascotas-felices.html';
            } else {
                abrirModal(`Pronto añadiremos más información sobre el albergue "${a.name}".`);
            }
        });

        container.appendChild(card);
    });
}

// Funciones para modal
function abrirModal(mensaje){
    document.getElementById('modalText').innerText = mensaje;
    document.getElementById('infoModal').style.display = 'flex';
}
function cerrarModal(){
    document.getElementById('infoModal').style.display = 'none';
}

document.addEventListener('DOMContentLoaded', cargarAlberguesRegistrados);
</script>

</body>
</html>


